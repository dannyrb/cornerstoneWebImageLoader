/*! cornerstoneWebImageLoader - v0.5.1 - 2015-07-29 | (c) 2015 Chris Hafey | https://github.com/chafey/cornerstoneWebImageLoader */
cornerstoneWebImageLoader={},function(a,b,c){"use strict";function d(a,c){function d(){for(var b=e(),c=b.data,d=a.naturalHeight*a.naturalWidth,f=new Uint8Array(4*d),g=0,h=0,i=0;d>i;i++)f[h++]=c[g++],f[h++]=c[g++],f[h++]=c[g++],f[h++]=255,g++;return f}function e(){var b;h!==c?(g.height=a.naturalHeight,g.width=a.naturalWidth,b=g.getContext("2d"),b.drawImage(a,0,0),h=c):b=g.getContext("2d");var d=b.getImageData(0,0,a.naturalWidth,a.naturalHeight);return d}function f(){if(h===c)return g;g.height=a.naturalHeight,g.width=a.naturalWidth;var b=g.getContext("2d");return b.drawImage(a,0,0),h=c,g}function i(){return a}var j=a.naturalHeight,k=a.naturalWidth,l={imageId:c,minPixelValue:0,maxPixelValue:255,slope:1,intercept:0,windowCenter:127,windowWidth:256,render:b.renderColorImage,getPixelData:d,getImageData:e,getCanvas:f,getImage:i,rows:j,columns:k,height:j,width:k,color:!0,columnPixelSpacing:1,rowPixelSpacing:1,invert:!1,sizeInBytes:j*k*4};return l}function e(c){var e=a.Deferred(),f=new Image,g=new XMLHttpRequest;return g.responseType="arraybuffer",g.open("GET",c,!0),i.beforeSend(g),g.onload=function(a){var b=new Uint8Array(this.response),g=new Blob([b],{type:"image/jpeg"}),h=window.URL||window.webkitURL,i=h.createObjectURL(g);f.src=i,f.onload=function(){var a=d(f,c);e.resolve(a),h.revokeObjectURL(i)},f.onerror=function(){h.revokeObjectURL(i),e.reject()}},g.onprogress=function(d){if(d.lengthComputable){var e=d.loaded,f=d.total,g=Math.round(e/f*100);a(b).trigger("CornerstoneImageLoadProgress",{imageId:c,loaded:e,total:f,percentComplete:g})}},g.send(),e}function f(a){i=a}var g=document.createElement("canvas"),h="",i={beforeSend:function(a){}};return b.registerImageLoader("http",e),b.registerImageLoader("https",e),c.configure=f,b}($,cornerstone,cornerstoneWebImageLoader);